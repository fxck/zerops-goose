zerops:
  - setup: goose
    build:
      base: python@3.12
      deployFiles:
        - app.py
      addToRunPrepare:
        - requirements.txt
    run:
      base: python@3.12
      prepareCommands:
        - sudo uv pip install --no-cache-dir --system -r requirements.txt
      start: uvicorn app:app --host 0.0.0.0 --port 8000
      ports:
        - port: 8000
          httpSupport: true
      envVariables:
        ZEROPS_PROJECT_ID: ${projectId}
      healthCheck:
        httpGet:
          port: 8000
          path: /status
